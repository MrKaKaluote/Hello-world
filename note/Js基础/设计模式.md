#   jsè®¾è®¡æ¨¡å¼

### è®¾è®¡åŸåˆ™

![image-20210103182109719](/Users/gaosong/Library/Application Support/typora-user-images/image-20210103182109719.png)

![image-20210103182159681](/Users/gaosong/Library/Application Support/typora-user-images/image-20210103182159681.png)

![image-20210103183040927](/Users/gaosong/Library/Application Support/typora-user-images/image-20210103183040927.png)

![image-20210103184042315](/Users/gaosong/Library/Application Support/typora-user-images/image-20210103184042315.png)

### å•ä¾‹æ¨¡å¼

* å®šä¹‰ï¼šæŠŠæè¿°å½“å‰äº‹åŠ¡ç‰¹å¾çš„ä¿¡æ¯è¿›è¡Œåˆ†ç±»ï¼ˆå‡å°‘å…¨å±€å˜é‡çš„æ±¡æŸ“ï¼‰ï¼Œå°±æ˜¯å•ä¾‹æ¨¡å¼

```javascript
let name = 'xxx'
let age = 18
let sex = 'man'

/*
* manä¸ä»…ä»…è¢«å«åšå…¨å±€å˜é‡ï¼Œä¹Ÿè¢«ç§°ä¸ºâ€œå‘½åç©ºé—´â€
* å•ä¾‹æ¨¡å¼çš„ä½œç”¨ï¼šæŠŠæè¿°äº‹åŠ¡çš„ä¿¡æ¯æ”¾åˆ°ä¸€ä¸ªå‘½åç©ºé—´ä¸­è¿›è¡Œå½’ç»„ï¼Œé˜²æ­¢å…¨å±€å˜é‡çš„æ±¡æŸ“
*/
const man = {
  name: 'xxx',
  age: 18,
  sex: 'man'
}

// é¡¹ç›®ä¸­çš„å•ä¾‹æ¨¡å¼ ==>é«˜çº§å•ä¾‹æ¨¡å¼
let namespace = (function(){
  // åˆ›å»ºä¸€äº›æ–¹æ³•
  let fn = function() {
    // dosomething
  }
  return {
    name: 'xxx',
    fn: fn
  }
})()
// ä½¿ç”¨
namespace.name
namespace.fn()
```

### å·¥å‚æ¨¡å¼

å®šä¹‰ï¼šæ‰¹é‡åŒ–ç”Ÿäº§ï¼Œå³æŠŠå®ç°æŸä¸ªåŠŸèƒ½çš„ä»£ç è¿›è¡Œå°è£…ï¼ŒåæœŸå†æƒ³å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‰§è¡Œå‡½æ•°å³å¯

* ä½è€¦åˆï¼šå‡å°‘é¡µé¢ä¸­çš„å†—ä½™ä»£ç 
* é«˜å†…èšï¼šæé«˜ä»£ç çš„é‡å¤ä½¿ç”¨ç‡

```javascript
function creatPerson(name, age) {
 	let person = {}
  person.name = name
  person.age = age
  return person
}
// ç”Ÿæˆ
let man = creatPerson('xxx', 18)
```

### å‘å¸ƒè®¢é˜…æ¨¡å¼

å®šä¹‰ï¼šå‘å¸ƒè®¢é˜…ï¼Œå³åœ¨æœªæ¥æŸä¸ªæ—¶é—´è¦è§¦å‘ä¸€äº›åŠ¨ä½œï¼Œä¸”åŠ¨ä½œä¹‹é—´å¯èƒ½å­˜åœ¨æ‰§è¡Œé¡ºåºå…³ç³»

å‘å¸ƒè®¢é˜…æ¨¡å¼æ˜¯æ¨¡æ‹ŸDOM2çš„äº‹ä»¶æ± æœºåˆ¶ï¼ŒDOM0å’ŒDOM2çš„åŒºåˆ«

1. è¯­æ³•ä¸Šçš„åŒºåˆ«

* box.onclick = function(){}
* box.addEventListener('click',function(){})

2. åº•å±‚æœºåˆ¶çš„åŒºåˆ«

* DOM0å°±æ˜¯ç»™å…ƒç´ çš„æŸä¸ªå±æ€§ç»‘å®šæ–¹æ³•ï¼ˆæœ‰æ•ˆç»‘å®šåªæœ‰ä¸€ä¸ªï¼‰
* DOM2æ—¶åŸºäºäº‹ä»¶æ± æœºåˆ¶å®Œæˆï¼Œæ¯å¢åŠ ä¸€ä¸ªç»‘å®šæ–¹æ³•ï¼Œéƒ½ä¼šå¾€äº‹ä»¶æ± ä¸­å­˜æ”¾ä¸€ä¸ªï¼Œå½“äº‹ä»¶è§¦å‘ä¼šä¾æ¬¡æ‰§è¡Œäº‹ä»¶æ± ä¸­çš„äº‹ä»¶
* DOM2å¯ä»¥ç»‘å®šä¸€äº›ç‰¹æ®Šçš„äº‹ä»¶ï¼Œæ¯”å¦‚DOMContentLoadï¼ŒDOMåŠ è½½å®Œæ¯•æ‰§è¡Œ

3. window.onload åŸºäºDOM0ã€$(document).readyåŸºäºDOM2ä¸­çš„DOMContentLoadå®ç°ï¼Œwindow.onloadè§¦å‘æ¯”è¾ƒæ™š

```javascript
/*
 * @Description:å‘å¸ƒè®¢é˜…æ¨¡å¼
 * @Autor: GaoSong
 * @Date: 2021-01-02 17:47:56
 * @LastEditors: GaoSongğŸ‘‰ğŸ˜œğŸ‘ˆ
 * @LastEditTime: 2021-01-02 18:41:58
 */

export default class Sub {
  constructor() {
    this.pond = []
  }
  /**
   * @description: æ·»åŠ ç›‘å¬å‡½æ•° åšå»é‡å¤„ç†
   * @param {*} func ç›‘å¬çš„å‡½æ•°
   * @return {*}
   */
  add(func) {
    const isExit = this.pond.some(i => i === func)
    if (!isExit) this.pond.push(func)
  }
  /**
   * @description: ç§»é™¤ç›‘å¬å‡½æ•°
   * @param {*} func ç§»é™¤å¯¹è±¡
   * @return {*}
   */
  remove(func) {
    const index = this.pond.findIndex(i => i === func)
    // this.pond.splice(index, 1) // ä¸èƒ½ç›´æ¥åˆ é™¤è¦removeçš„é¡¹ï¼Œå¦åˆ™ä¼šå¯¼è‡´æ•°ç»„å¡Œé™·ï¼Œå¯ä½¿ç”¨æ•°ç»„æ›¿æ¢çš„æ–¹å¼è§£å†³
    this.pond[index] = null
  }

  /**
   * @description: è§¦å‘å‡½æ•°æ‰§è¡Œï¼Œå¹¶å°†æ‰§è¡Œå‡½æ•°ä¸­çš„thisæŒ‡å‘å®ä¾‹
   * @param {array} args
   * @return {*}
   */
  fire(...args) {
    for (let i = 0; i < this.pond.length; i++) {
      if (typeof (this.pond[i]) === 'function') {
        this.pond[i].call(this, ...args)
      }
    }
  }
}

const pond = new Sub()
const func1 = () => {}
const func2 = (n, m) => {}
const func3 = () => {}
pond.add(func1)
pond.add(func2)
pond.add(func3)
pond.fire(100, 200)
```

### è£…é¥°å™¨æ¨¡å¼

![image-20210219081440744](/Users/gaosong/Library/Application Support/typora-user-images/image-20210219081440744.png)